{% comment %}
  add to the top of a file and  use in the file {{ show_block }}
   show_on_all_markets: ruew are false value
   markets_to_show: array of market values
   markets_to_exclude_on: array of market values
{% endcomment %}

{% assign market_code = localization.language.root_url %}
{% if market_code == '/' %}
  {% assign market_code = 'uk' %}
{% else %}
  {% assign market_code = market_code | remove: '/' %}
{% endif %}

{% assign show_block = true %}

{% if show_on_all_markets == false %}

          {% if markets_to_exclude_on != blank %}
            {% for market in markets_to_exclude_on %}
              {% assign market_strip = market | strip %}
              {% assign market_downcase = market_strip | downcase %}
              {% if market_code == market_downcase %}
                {% assign show_block = false %}
                {% break %}
              {% endif %}
            {% endfor %}
          {% endif %}
          
          {% if markets_to_show != blank and show_block %}
            {% assign show_block = false %}
            {% for market in markets_to_show %}
              {% assign market_strip = market | strip %}
              {% assign market_downcase = market_strip | downcase %}
              {% if market_code == market_downcase %}
                {% assign show_block = true %}
                {% break %}
              {% endif %}
            {% endfor %}
          {% endif %}
{% endif %}

{{ show_block }}