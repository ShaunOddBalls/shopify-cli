{% schema %}
{
  "name": "subs-hero-header",
  "presets": [
    {
      "name": "subs-hero-header"
    }
  ]
}
{% endschema %}

{% assign banner_metaobject = shop.metaobjects.sub_collection_banner['subscription-hero-banner'] %}
{% assign title = banner_metaobject.title.value %}
{% assign sub_title = banner_metaobject.sub_title.value %}
{% assign desktop_image = banner_metaobject.background_image_desktop.value %}
{% assign background_color = banner_metaobject.background_color.value %}
{% assign mobile_image = banner_metaobject.background_image_mobile.value %}
{% assign nav_links = banner_metaobject.nav_link_buttons %}
{% assign fixed_bg_color = banner_metaobject.fixed_background_color.value %}


<div id="subs-hero-header" class="subs-sticky-header pt-2" style="background-color:{{ background_color }}">
  <div class="subs-hero-titles text-center" style="color:white; background-color:{{ background_color }}">
    <div class="text-xl">
      {{ sub_title }}
    </div>
    <div class="text-2xl marujo pb-2">
      {{ title }}
    </div>
  </div>
  <div id="sub-header-marker"></div>
  <div id="nav-buttons-wrapper" style="display:flex; overflow:auto; gap:0.5rem;">
    {% for link in nav_links.value %}
      {% assign text = link.text.value %}
      {% assign image = link.image.value %}
      {% assign url = link.url.value %}
      <a href="{{url}}">
        <div class="nav-button-wrapper relative">
          <div class="nav-button-image">
            <img
              class="object-cover {{ section.settings.image-classes }}"
              src="{{ image | image_url }}"
              width="200"
              height="200"
              alt="{{ text }}"
            >
          </div>
          <div class="subs-header-text font-bold z-10 w-full text-center">
            {{ text }}
          </div>
        </div>
      </a>
    {% endfor %}
  </div>
</div>

<style>

  .nav-button-wrapper{
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
  }
  .is-fixed 
  .is-fixed #nav-buttons-wrapper {
    padding: 0px;
    background-color: #ffffffe3;
    position: fixed;
    backdrop-filter: blur(10px);
}
.is-fixed .nav-button-wrapper {
    height: 50px;
    padding-left: 55px;
    padding-right: 5px;
    border-radius: 0.305rem;
    box-shadow: 0px 1px 3px rgb(0 0 0 / 15%);
    background: #fff;
    box-shadow: 0px;
    padding: .5rem 1.1rem;

}
.subs-collection-wrapper {     padding: 30px 20px; }
.is-fixed .subs-header-text {
    color: #000000;
    padding: 0px 10px;
}
  #nav-buttons-wrapper{
    padding: 1rem 1.1rem;
    transition: background-color 0.3s linear;
    background-color:{{ background_color }};
    width:100%;
  }
  .is-fixed #nav-buttons-wrapper{
    background-color:{{ fixed_bg_color }}7a;
        position:fixed;
        backdrop-filter: blur(2px);
      top:134px;
    }
    @media(min-width:720px){
      #nav-buttons-wrapper{
  justify-content: center;
}
      .is-fixed #nav-buttons-wrapper{
        top:132px;
      }
    }
.subs-hero-titles{
    transition:all 0.3s ease;
      }
  .subs-header-text{
    color:black;
    transition:all 0.1s ease;
    font-size:10px;
  }
  .is-fixed .subs-hero-titles{
  {% comment %} max-height:0px;
  overflow:hidden; {% endcomment %}

  }
      .is-fixed .nav-button-wrapper{
        height:60px;
        padding-left:55px;
        padding-right:5px;
        border-radius:0.305rem;
      }
      .is-fixed .nav-button-image img{
        
        width: 50px;
        border-radius: 0.305rem 0 0 0.305rem
      }
      .is-fixed .nav-button-image{
        border-width: 0 1px 0px 0px;
        border-style: solid;
        width: 50px;
        display:flex;
        align-items:center;
      }
      .nav-button-wrapper{
        transition: all 0.3s ease;
        min-width:120px;
        height:120px;
        position:relative;
        display:flex;
        justify-items:center;
        align-items:center
      }
      @media(max-width: 720px){
        .nav-button-wrapper{
          min-width:35vw;
        }
      }
      .nav-button-image img{
        border-radius: 7px;
        transition: all 0.3s ease ;
       width:100%;
       height:100%;
       overflow:hidden;
      }
      .nav-button-image{
        transition: all 0.3s ease ;
      position:absolute;
      width:100%;
      height:100%;
      top:0px;
      left:0px;
    }
        .subs-sticky-header {
          width:100%;
          z-index:24;
      position: relative;
      top: 0;
      background: white;
      transition: background 0.3s;
    }

    .subs-sticky-header.is-fixed {
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      padding-bottom: 76px
    }
</style>
