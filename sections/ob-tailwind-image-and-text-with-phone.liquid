{% comment %}
This is the charity template being used.
{% endcomment %}

{% assign prefix = "" %}

<style>
  .bg-cover {
    background: url({{"2-FREE-GIFTS-DESKTOP.jpg" | file_url}});
    background-color: rgba(255, 255, 255, 0.7);
  }
</style>

<div class="py-8 md:py-16 pt-0 md:pt-16 {{ section.settings.section-class }}">
    <div class="max-w-7xl mx-auto px-4 space-y-8 sm:px-6 lg:px-8">
        <div class="lg:grid lg:grid-cols-2 lg:gap-8 items-center">
             <div class="items-center text-left {{ section.settings.text-block-class }}"> 
                {% if section.settings.title != blank %}
                <div class="text-base max-w-prose mx-auto lg:max-w-none text-left mb-3">
                    <h2 class="mt-2 text-3xl leading-8 font-extrabold tracking-tight sm:text-4xl text-magenta marujo">{{ section.settings.title }}</h2>
                </div>
                {% endif %}
              
                {% if section.settings.intro != blank %}
                <div class="relative z-10 text-base max-w-prose mx-auto lg:max-w-5xl lg:mx-0">
                    <p class="text-lg pb-2">{{ section.settings.intro }}</p>
                </div>
                {% endif %}
                <div class="relative z-10">
                    <div class="mx-auto max-w-prose lg-max-w-none intro">
                      {% if section.settings.content != blank %}
                          {{ section.settings.content }}
                      {% endif %}
                    </div>
                </div>
               
                {% if section.settings.static_image %}
                  <div class="md:hidden mt-4">
                   <div class="rounded-lg  border-black border-2 border-solid swiper-container-{{ section.id }} relative">
                      <div class="swiper-wrapper">
                        {% for block in section.blocks %}
                          {% if block.type == "image" %}
                            <div class="swiper-slide">
                              <img src="{{ block.settings.image | img_url: '560x' }}" alt="{{ block.settings.image.alt }}" class="w-full h-full" style="object-fit: cover!important;"/>
                            </div>
                          {% endif %}
                        {% endfor %}
                      </div>
                      <div class="swiper-pagination"></div>
                      <div class="swiper-button-next"></div>
                      <div class="swiper-button-prev"></div>
                   </div>
                  </div>
                {% endif %}
          
                <div class="max-w-prose flex justify-start mt-3 flex-wrap gap-3 mt-4 m-auto ">
                  {% if section.settings.button_text != blank %}
                      <a href="{{ section.settings.hero_url }}" class="{{ section.settings.button_class }}">
                          {{ section.settings.button_text }}
                      </a>
                    {% endif %}
                    {% if section.settings.button_text_2 != blank %}
                    <a href="#callback_form" class="{{ section.settings.button_class_2 }}">
                          {{ section.settings.button_text_2 }}  
                    </a>
                  {% endif %}
                  </div>
                
            </div>
            <div class="mt-12 relative text-base max-w-prose mx-auto lg:mt-0 w-full lg:max-w-none  {{ section.settings.image-block-class }}">
                <div class="swiper-container-{{ section.id }} overflow-hidden border-2 border-solid rounded-md">
                    <div class="swiper-wrapper">
                        {% for block in section.blocks %}
                            {% if block.type == "image" %}
                                <div class="swiper-slide">
                                    <img src="{{ block.settings.image | img_url: '560x' }}" alt="{{ block.settings.image.alt }}" class="w-full h-full object-cover" />
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
            </div>            
        </div>
        {%  assign has_stats = 'no' %}
        {% capture block_stats %}
        <div class="mt-8 max-w-full  mx-auto md:pb-12 hidden md:tw">
            <div class="mt-1 grid grid-cols-{{ section.settings.stats_per_row_mobile }} md:grid-cols-{{ section.settings.stats_per_row }} rounded-md border-2 border-solid overflow-hidden bg-white">
              {% for i in (1..6) -%}
                  {% assign stats_title_setting =  'stats_title_' | append: i %}
                  {% assign stats_caption_setting =  'stats_caption_' | append: i %}
                  {% if section.settings[stats_title_setting] != blank  %}
                     {%  assign has_stats = 'yes' %}
                    <div class="relative px-6 py-5 flex items-center border-b md:border-b-0 md:border-r border-solid">
                        <div class="flex-1 min-w-0">
                            <div href="#" class="focus:outline-none">
                                <span class="absolute inset-0" aria-hidden="true"></span>
                                {% if section.settings[stats_title_setting] != blank  %}
                                <span class="font-medium text-2xl text-magenta block">
                                 {{ section.settings[stats_title_setting] }}
                                </span>
                                {% endif %}
                                {% if section.settings[stats_caption_setting] != blank  %}
                                <span class="text-base md:text-lg">
                                  {{ section.settings[stats_caption_setting] }}
                                </span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                  {%  endif %}
              {% endfor %}
            </div>
        </div>    
          {% endcapture %}
          {%  if has_stats == 'yes' %}
              {{ block_stats }}
          {% endif %}
    </div>

{% schema %}
  {
    "name": "tailwind image text phone",
    "settings": [
        {
          "type": "checkbox",
          "default": false,
          "label": "images in a slider",
          "id": "static_image"
        },
        {
          "type": "text",
          "id": "section-class",
          "label": "section-class"
        },
        {
          "type": "text",
          "id": "hero-frame-class",
          "label": "hero-frame-class"
        },
        {
          "type": "text",
          "id": "image-block-class",
          "label": "image block class"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "text-block-class",
          "label": "text-block-class"
        },
        {
          "type": "text",
          "id": "intro",
          "label": "content intro"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "content"
        },
        {
          "type": "header",
          "content": "Images"
        },
        {
          "type": "range",
          "id": "images_per_slide",
          "min": 1,
          "max": 4,
          "step": 1,
          "label": "Images per slide",
          "default": 1
        },
        {
          "type": "range",
          "id": "row_height",
          "min": 50,
          "max": 1000,
          "step": 10,
          "label": "px",
          "default": 300
        },
        {
          "type": "range",
          "id": "row_height_mobile",
          "min": 50,
          "max": 1000,
          "step": 10,
          "label": "px",
          "default": 300
        },
        {
          "type": "text",
          "id": "caption",
          "label": "Image caption"
        },
        {
          "type": "header",
          "content": "Button"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "1st text"
        },
        {
          "type": "text",
          "id": "button_class",
          "label": "1st button class",
          "info": "tw-px-8 tw-rounded-md tw-uppercase btn-shadow-lg tw-block tw-bg-magenta tw-border-solid tw-border-2 tw-border-md tw-border-black tw-relative tw-font-semibold tw-text-center tw-p-4 tw-text-white hover:tw-bg-magenta-700 tw-transition-colors tw-duration-200"
        },
        {
          "type": "text",
          "id": "button_text_2",
          "label": "2nd Button text"
        },
        {
          "type": "text",
          "id": "button_class_2",
          "label": "2nd button class",
          "info": "tw-px-8 tw-rounded-md tw-uppercase btn-shadow-lg tw-block tw-bg-magenta tw-border-solid tw-border-2 tw-border-md tw-border-black tw-relative tw-font-semibold tw-text-center tw-p-4 tw-text-white hover:tw-bg-magenta-700 tw-transition-colors tw-duration-200"
        },
        {
          "type": "text",
          "id": "hero_url",
          "label": "Hero URL"
        }
    ],
    "blocks": [
      {
        "type": "stats",
        "name": "stats",
        "settings": [
          {
            "type": "range",
            "id": "stats_per_row",
            "min": 1,
            "max": 3,
            "step": 1,
            "unit": "col",
            "label": "Items per row (desktop",
            "default": 2
          },
          {
            "type": "range",
            "id": "stats_per_row_mobile",
            "min": 1,
            "max": 3,
            "step": 1,
            "unit": "col",
            "label": "Items per row (mobile",
            "default": 2
          },
          {
            "type": "text",
            "id": "stats_title_1",
            "label": "Stats title #1"
          },
          {
            "type": "text",
            "id": "stats_caption_1",
            "label": "Stats caption #1"
          },
          {
            "type": "text",
            "id": "stats_title_2",
            "label": "Stats title #2"
          },
          {
            "type": "text",
            "id": "stats_caption_2",
            "label": "Stats caption #2"
          },
          {
            "type": "text",
            "id": "stats_title_3",
            "label": "Stats title #3"
          },
          {
            "type": "text",
            "id": "stats_caption_3",
            "label": "Stats caption #3"
          },
          {
            "type": "text",
            "id": "stats_title_4",
            "label": "Stats title #4"
          },
          {
            "type": "text",
            "id": "stats_caption_4",
            "label": "Stats caption #4"
          },
          {
            "type": "text",
            "id": "stats_title_5",
            "label": "Stats title #5"
          },
          {
            "type": "text",
            "id": "stats_caption_5",
            "label": "Stats caption #5"
          },
          {
            "type": "text",
            "id": "stats_title_6",
            "label": "Stats title #6"
          },
          {
            "type": "text",
            "id": "stats_caption_6",
            "label": "Stats caption #6"
          }
        ]
      },
      {
        "type": "image",
        "name": "image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          }
        ]
      }
    ]
  }
{% endschema %}
<style>
.swiper-container-{{ section.id }} {
    width: 100%;
    height: 100%;
}

.swiper-container-{{ section.id }} .swiper-slide {
    text-align: center;
    font-size: 18px;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
}

.swiper-container-{{ section.id }} .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.swiper-container-{{ section.id }} .swiper-button-next,
.swiper-container-{{ section.id }} .swiper-button-prev {
    color: #f00f83;
    background-color: rgba(255, 255, 255, 0.5);
    width: 42px;
    height: 42px;
    border-radius: 50%;
}

.swiper-container-{{ section.id }} .swiper-button-next:after,
.swiper-container-{{ section.id }} .swiper-button-prev:after {
    font-size: 18px;
}

.swiper-container-{{ section.id }} .swiper-pagination-bullet {
    width: 10px;
    height: 10px;
    background: #f00f83;
    opacity: 0.5;
}

.swiper-container-{{ section.id }} .swiper-pagination-bullet-active {
    opacity: 1;
    width: 20px;
    border-radius: 10px;
    transition: width 0.5s;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    new Swiper('.swiper-container-{{ section.id }}', {
        slidesPerView: 1,
        spaceBetween: 30,
        loop: true,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
    });
});
</script>